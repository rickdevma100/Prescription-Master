# Task ID: 7
# Title: ChatPanel component integrating hooks and components
# Status: done
# Dependencies: 4, 6
# Priority: high
# Description: Compose ChatPanel with message list, auto-scroll, loading indicator, and integration to API via useChat. Display both doctor and agent messages.
# Details:
Implementation details:
- src/components/ChatPanel.tsx
  import MessageBubble from './MessageBubble';
  import InputBox from './InputBox';
  import { useChat } from '../hooks/useChat';
  type Props = { onPrescriptionUpdate?: (p:string)=>void };
  export default function ChatPanel(){
    const { messages, loading, error, send, scrollRef } = useChat();
    return (
      <div className="h-full flex flex-col border rounded-md">
        <div className="flex-1 overflow-y-auto p-3 space-y-1" ref={scrollRef} aria-live="polite">
          {messages.map(m => <MessageBubble key={m.id} role={m.role} content={m.content} />)}
          {loading && <div className="text-xs text-gray-500">Agent is typing…</div>}
          {error && <div role="alert" className="text-xs text-red-600">{error}</div>}
        </div>
        <InputBox disabled={loading} onSend={send} />
      </div>
    );
  }
- Auto-scroll: handled by useChat’s ref; ensure it scrolls after each render with new messages (ref scroll call in hook or useEffect in component).
- Performance: Render immediately upon response to meet 300ms post-response requirement.


# Test Strategy:
- Integration test with MSW: 
  - Type a message and click Send; shows user bubble, loading indicator, then agent bubble.
  - Verify container scrolls to bottom after new message.
  - Ensure loading state disables input and button.
- Error path: simulate 500 response; error alert shows.
